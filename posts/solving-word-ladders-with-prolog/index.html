<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Aswin van Woudenberg">
<meta name="dcterms.date" content="2023-06-03">
<meta name="description" content="How to solve word ladders using the A* algorithm and Prolog.">

<title>Aswin van Woudenberg - Solving Word Ladders with Prolog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WWJVHMJ');</script>
<!-- End Google Tag Manager -->


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Aswin van Woudenberg</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-wide tools-end">
    <a href="https://github.com/afvanwoudenberg" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="https://linkedin.com/in/afvanwoudenberg" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="../../index.xml" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-rss"></i></a>
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Solving Word Ladders with Prolog</h1>
                  <div>
        <div class="description">
          How to solve word ladders using the A* algorithm and Prolog.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">programming</div>
                <div class="quarto-category">puzzles</div>
                <div class="quarto-category">prolog</div>
                <div class="quarto-category">algorithms</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Aswin van Woudenberg </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 3, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#so-what-is-weaver" id="toc-so-what-is-weaver" class="nav-link active" data-scroll-target="#so-what-is-weaver">So what is Weaver?</a></li>
  <li><a href="#getting-the-word-list" id="toc-getting-the-word-list" class="nav-link" data-scroll-target="#getting-the-word-list">Getting the word list</a></li>
  <li><a href="#specifying-a-graph-structure" id="toc-specifying-a-graph-structure" class="nav-link" data-scroll-target="#specifying-a-graph-structure">Specifying a graph structure</a></li>
  <li><a href="#the-a-search-algorithm" id="toc-the-a-search-algorithm" class="nav-link" data-scroll-target="#the-a-search-algorithm">The A* search algorithm</a></li>
  <li><a href="#running-the-solver" id="toc-running-the-solver" class="nav-link" data-scroll-target="#running-the-solver">Running the solver</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WWJVHMJ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->





<p>A few weeks ago, a friend saw that I had created a <a href="../../posts/draining-the-fun-out-of-wordle/">Wordle solver</a> and he thought I might enjoy another word puzzle called <a href="https://wordwormdormdork.com/">Weaver</a>. However, he couldn’t have been more wrong! I actually hate puzzles, especially the ones involving words.</p>
<p>When I can’t solve them quickly enough, frustration sets in. It’s followed by self-doubt, anger towards myself, and eventually, resentment towards the creators of these puzzles, the universe, and life itself. For me, the only way to escape this mental turmoil is to create a solver and be done with them once and for all.</p>
<p>Read on to discover how I once again managed to avoid spiraling into an existential crisis.</p>
<section id="so-what-is-weaver" class="level2">
<h2 class="anchored" data-anchor-id="so-what-is-weaver">So what is Weaver?</h2>
<p>Weaver is an online game where players are presented with word ladder puzzles. In these puzzles, players must transform a starting word into a target word by changing one letter at a time, while forming valid English words in each step.</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="weaver_puzzle.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="weaver_solution.png" class="img-fluid"></p>
</div>
</div>
</div>
<p>The objective is to make the chain as short as possible. If you complete a puzzle you’ll get feedback on how close you were on getting a shortest solution. Weaver uses a dictionary to check if the words you enter are valid English words. The example above shows the puzzle on the left, and a (shortest) solution on the right.</p>
<p>Word ladders are nothing new. Their origin can be traced back to <a href="https://en.wikipedia.org/wiki/Lewis_Carroll">Lewis Carroll</a>, who introduced them in the 19th century. He called them <a href="https://books.google.nl/books?id=JkQCAAAAQAAJ&amp;printsec=frontcover">Doublets</a>.</p>
<p>Weaver uses four-letter words only, so that’s what I’ll do as well.</p>
</section>
<section id="getting-the-word-list" class="level2">
<h2 class="anchored" data-anchor-id="getting-the-word-list">Getting the word list</h2>
<p>I started by getting the word list from Weaver’s JavaScript source code. It currently consists of 4029 four-letter words. I put this word list in my Prolog source code as follows:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>words([aahs, aals, abas, abba, abbe, abed, abet, able, ably<span class="fu">|</span>...])<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In Weaver’s source code I also found a five-letter word list, but it doesn’t seem to be used. If you want to include five-letter words as well, you can just extend the list. Of course you can’t weave from a four to a five-letter word or vice versa.</p>
</section>
<section id="specifying-a-graph-structure" class="level2">
<h2 class="anchored" data-anchor-id="specifying-a-graph-structure">Specifying a graph structure</h2>
<p>To solve word ladders, we can start by representing the word list as a graph where each node represents a word, and there is an edge between two nodes if and only if the corresponding words differ by exactly one letter. A small subset of this graph would look like this:</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 1010.00 688.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 684)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-684 1006,-684 1006,4 -4,4"></polygon>
<!-- PORT -->
<g id="node1" class="node">
<title>PORT</title>
<ellipse fill="lightblue" stroke="black" cx="181.69" cy="-372.92" rx="35.94" ry="35.94"></ellipse>
<text text-anchor="middle" x="181.69" y="-368.72" font-family="Times,serif" font-size="14.00">PORT</text>
</g>
<!-- SORT -->
<g id="node2" class="node">
<title>SORT</title>
<ellipse fill="lightblue" stroke="black" cx="156.24" cy="-202.27" rx="35.94" ry="35.94"></ellipse>
<text text-anchor="middle" x="156.24" y="-198.07" font-family="Times,serif" font-size="14.00">SORT</text>
</g>
<!-- PORT&#45;&#45;SORT -->
<g id="edge1" class="edge">
<title>PORT--SORT</title>
<path fill="none" stroke="black" d="M176.42,-337.56C172.06,-308.37 165.92,-267.13 161.55,-237.87"></path>
</g>
<!-- MORT -->
<g id="node3" class="node">
<title>MORT</title>
<ellipse fill="lightblue" stroke="black" cx="39.23" cy="-303.91" rx="38.87" ry="38.87"></ellipse>
<text text-anchor="middle" x="39.23" y="-299.71" font-family="Times,serif" font-size="14.00">MORT</text>
</g>
<!-- PORT&#45;&#45;MORT -->
<g id="edge2" class="edge">
<title>PORT--MORT</title>
<path fill="none" stroke="black" d="M149.36,-357.26C127.03,-346.45 97.35,-332.07 74.42,-320.96"></path>
</g>
<!-- BORT -->
<g id="node4" class="node">
<title>BORT</title>
<ellipse fill="lightblue" stroke="black" cx="127.41" cy="-285.08" rx="36.58" ry="36.58"></ellipse>
<text text-anchor="middle" x="127.41" y="-280.88" font-family="Times,serif" font-size="14.00">BORT</text>
</g>
<!-- PORT&#45;&#45;BORT -->
<g id="edge3" class="edge">
<title>PORT--BORT</title>
<path fill="none" stroke="black" d="M162.7,-342.2C157.57,-333.89 152,-324.88 146.84,-316.53"></path>
</g>
<!-- FORT -->
<g id="node5" class="node">
<title>FORT</title>
<ellipse fill="lightblue" stroke="black" cx="286.11" cy="-262.07" rx="35.94" ry="35.94"></ellipse>
<text text-anchor="middle" x="286.11" y="-257.87" font-family="Times,serif" font-size="14.00">FORT</text>
</g>
<!-- PORT&#45;&#45;FORT -->
<g id="edge4" class="edge">
<title>PORT--FORT</title>
<path fill="none" stroke="black" d="M206.44,-346.65C223.08,-328.98 244.94,-305.78 261.54,-288.15"></path>
</g>
<!-- SORT&#45;&#45;MORT -->
<g id="edge5" class="edge">
<title>SORT--MORT</title>
<path fill="none" stroke="black" d="M129.1,-225.84C111.01,-241.56 87.23,-262.21 68.68,-278.33"></path>
</g>
<!-- SORT&#45;&#45;BORT -->
<g id="edge6" class="edge">
<title>SORT--BORT</title>
<path fill="none" stroke="black" d="M144.35,-236.43C142.77,-240.97 141.14,-245.64 139.55,-250.19"></path>
</g>
<!-- SORT&#45;&#45;FORT -->
<g id="edge7" class="edge">
<title>SORT--FORT</title>
<path fill="none" stroke="black" d="M189.02,-217.36C208.7,-226.42 233.67,-237.92 253.35,-246.98"></path>
</g>
<!-- SORD -->
<g id="node6" class="node">
<title>SORD</title>
<ellipse fill="lightblue" stroke="black" cx="292.2" cy="-163.36" rx="36.59" ry="36.59"></ellipse>
<text text-anchor="middle" x="292.2" y="-159.16" font-family="Times,serif" font-size="14.00">SORD</text>
</g>
<!-- SORT&#45;&#45;SORD -->
<g id="edge8" class="edge">
<title>SORT--SORD</title>
<path fill="none" stroke="black" d="M190.9,-192.35C211.04,-186.59 236.37,-179.34 256.65,-173.53"></path>
</g>
<!-- MORT&#45;&#45;BORT -->
<g id="edge9" class="edge">
<title>MORT--BORT</title>
<path fill="none" stroke="black" d="M77.39,-295.76C82.05,-294.77 86.79,-293.76 91.41,-292.77"></path>
</g>
<!-- BORT&#45;&#45;FORT -->
<g id="edge10" class="edge">
<title>BORT--FORT</title>
<path fill="none" stroke="black" d="M164.22,-279.74C190.22,-275.97 224.88,-270.95 250.6,-267.22"></path>
</g>
<!-- CORD -->
<g id="node7" class="node">
<title>CORD</title>
<ellipse fill="lightblue" stroke="black" cx="404.74" cy="-38.82" rx="37.73" ry="37.73"></ellipse>
<text text-anchor="middle" x="404.74" y="-34.62" font-family="Times,serif" font-size="14.00">CORD</text>
</g>
<!-- SORD&#45;&#45;CORD -->
<g id="edge11" class="edge">
<title>SORD--CORD</title>
<path fill="none" stroke="black" d="M316.9,-136.03C335.4,-115.55 360.64,-87.62 379.32,-66.95"></path>
</g>
<!-- FORD -->
<g id="node8" class="node">
<title>FORD</title>
<ellipse fill="lightblue" stroke="black" cx="431.73" cy="-184.63" rx="36.59" ry="36.59"></ellipse>
<text text-anchor="middle" x="431.73" y="-180.43" font-family="Times,serif" font-size="14.00">FORD</text>
</g>
<!-- SORD&#45;&#45;FORD -->
<g id="edge12" class="edge">
<title>SORD--FORD</title>
<path fill="none" stroke="black" d="M328.86,-168.95C349.37,-172.08 374.85,-175.96 395.31,-179.08"></path>
</g>
<!-- LORD -->
<g id="node9" class="node">
<title>LORD</title>
<ellipse fill="lightblue" stroke="black" cx="318.16" cy="-62.81" rx="37.15" ry="37.15"></ellipse>
<text text-anchor="middle" x="318.16" y="-58.61" font-family="Times,serif" font-size="14.00">LORD</text>
</g>
<!-- SORD&#45;&#45;LORD -->
<g id="edge13" class="edge">
<title>SORD--LORD</title>
<path fill="none" stroke="black" d="M301.42,-127.63C303.81,-118.37 306.39,-108.39 308.79,-99.11"></path>
</g>
<!-- CORD&#45;&#45;FORD -->
<g id="edge15" class="edge">
<title>CORD--FORD</title>
<path fill="none" stroke="black" d="M411.69,-76.37C415.78,-98.48 420.93,-126.31 424.99,-148.22"></path>
</g>
<!-- CORD&#45;&#45;LORD -->
<g id="edge14" class="edge">
<title>CORD--LORD</title>
<path fill="none" stroke="black" d="M368.02,-48.99C363.5,-50.24 358.89,-51.52 354.38,-52.77"></path>
</g>
<!-- FORD&#45;&#45;FORT -->
<g id="edge17" class="edge">
<title>FORD--FORT</title>
<path fill="none" stroke="black" d="M399.05,-202.01C374.73,-214.94 341.73,-232.49 317.68,-245.28"></path>
</g>
<!-- FORD&#45;&#45;LORD -->
<g id="edge16" class="edge">
<title>FORD--LORD</title>
<path fill="none" stroke="black" d="M406.52,-157.59C387.83,-137.55 362.45,-110.32 343.68,-90.19"></path>
</g>
<!-- FOLD -->
<g id="node10" class="node">
<title>FOLD</title>
<ellipse fill="lightblue" stroke="black" cx="583.65" cy="-147.43" rx="36.01" ry="36.01"></ellipse>
<text text-anchor="middle" x="583.65" y="-143.23" font-family="Times,serif" font-size="14.00">FOLD</text>
</g>
<!-- FORD&#45;&#45;FOLD -->
<g id="edge18" class="edge">
<title>FORD--FOLD</title>
<path fill="none" stroke="black" d="M467.73,-175.81C492.13,-169.84 524.2,-161.98 548.43,-156.05"></path>
</g>
<!-- FARD -->
<g id="node11" class="node">
<title>FARD</title>
<ellipse fill="lightblue" stroke="black" cx="514.42" cy="-37.21" rx="36.59" ry="36.59"></ellipse>
<text text-anchor="middle" x="514.42" y="-33.01" font-family="Times,serif" font-size="14.00">FARD</text>
</g>
<!-- FORD&#45;&#45;FARD -->
<g id="edge19" class="edge">
<title>FORD--FARD</title>
<path fill="none" stroke="black" d="M449.88,-152.28C463.66,-127.7 482.54,-94.05 496.31,-69.49"></path>
</g>
<!-- FOND -->
<g id="node12" class="node">
<title>FOND</title>
<ellipse fill="lightblue" stroke="black" cx="585.93" cy="-303.59" rx="37.16" ry="37.16"></ellipse>
<text text-anchor="middle" x="585.93" y="-299.39" font-family="Times,serif" font-size="14.00">FOND</text>
</g>
<!-- FORD&#45;&#45;FOND -->
<g id="edge20" class="edge">
<title>FORD--FOND</title>
<path fill="none" stroke="black" d="M461.1,-207.29C488.36,-228.32 528.75,-259.48 556.15,-280.61"></path>
</g>
<!-- FOLD&#45;&#45;FOND -->
<g id="edge21" class="edge">
<title>FOLD--FOND</title>
<path fill="none" stroke="black" d="M584.19,-184.04C584.55,-208.74 585.02,-241.24 585.39,-266.12"></path>
</g>
<!-- BOND -->
<g id="node13" class="node">
<title>BOND</title>
<ellipse fill="lightblue" stroke="black" cx="743.07" cy="-255.21" rx="38.3" ry="38.3"></ellipse>
<text text-anchor="middle" x="743.07" y="-251.01" font-family="Times,serif" font-size="14.00">BOND</text>
</g>
<!-- FOND&#45;&#45;BOND -->
<g id="edge22" class="edge">
<title>FOND--BOND</title>
<path fill="none" stroke="black" d="M621.98,-292.49C647.26,-284.7 680.95,-274.33 706.37,-266.51"></path>
</g>
<!-- FIND -->
<g id="node14" class="node">
<title>FIND</title>
<ellipse fill="lightblue" stroke="black" cx="699.87" cy="-430.75" rx="33.64" ry="33.64"></ellipse>
<text text-anchor="middle" x="699.87" y="-426.55" font-family="Times,serif" font-size="14.00">FIND</text>
</g>
<!-- FOND&#45;&#45;FIND -->
<g id="edge23" class="edge">
<title>FOND--FIND</title>
<path fill="none" stroke="black" d="M610.94,-331.49C630.72,-353.57 658.11,-384.14 677.24,-405.5"></path>
</g>
<!-- FEND -->
<g id="node15" class="node">
<title>FEND</title>
<ellipse fill="lightblue" stroke="black" cx="555.13" cy="-456.08" rx="36.01" ry="36.01"></ellipse>
<text text-anchor="middle" x="555.13" y="-451.88" font-family="Times,serif" font-size="14.00">FEND</text>
</g>
<!-- FOND&#45;&#45;FEND -->
<g id="edge24" class="edge">
<title>FOND--FEND</title>
<path fill="none" stroke="black" d="M578.48,-340.5C573.58,-364.74 567.21,-396.29 562.36,-420.29"></path>
</g>
<!-- BIND -->
<g id="node16" class="node">
<title>BIND</title>
<ellipse fill="lightblue" stroke="black" cx="851" cy="-373.87" rx="34.78" ry="34.78"></ellipse>
<text text-anchor="middle" x="851" y="-369.67" font-family="Times,serif" font-size="14.00">BIND</text>
</g>
<!-- BOND&#45;&#45;BIND -->
<g id="edge25" class="edge">
<title>BOND--BIND</title>
<path fill="none" stroke="black" d="M768.92,-283.63C786.76,-303.24 810.28,-329.1 827.57,-348.11"></path>
</g>
<!-- FIND&#45;&#45;BIND -->
<g id="edge27" class="edge">
<title>FIND--BIND</title>
<path fill="none" stroke="black" d="M731.55,-418.83C757.08,-409.22 792.85,-395.76 818.58,-386.07"></path>
</g>
<!-- KIND -->
<g id="node17" class="node">
<title>KIND</title>
<ellipse fill="lightblue" stroke="black" cx="837.71" cy="-498.21" rx="35.35" ry="35.35"></ellipse>
<text text-anchor="middle" x="837.71" y="-494.01" font-family="Times,serif" font-size="14.00">KIND</text>
</g>
<!-- FIND&#45;&#45;KIND -->
<g id="edge28" class="edge">
<title>FIND--KIND</title>
<path fill="none" stroke="black" d="M730.12,-445.56C752.63,-456.57 783.27,-471.57 806.1,-482.74"></path>
</g>
<!-- FINE -->
<g id="node18" class="node">
<title>FINE</title>
<ellipse fill="lightblue" stroke="black" cx="732.03" cy="-581.88" rx="32.49" ry="32.49"></ellipse>
<text text-anchor="middle" x="732.03" y="-577.68" font-family="Times,serif" font-size="14.00">FINE</text>
</g>
<!-- FIND&#45;&#45;FINE -->
<g id="edge29" class="edge">
<title>FIND--FINE</title>
<path fill="none" stroke="black" d="M706.93,-463.92C712.38,-489.55 719.88,-524.8 725.26,-550.08"></path>
</g>
<!-- HIND -->
<g id="node19" class="node">
<title>HIND</title>
<ellipse fill="lightblue" stroke="black" cx="765.49" cy="-351.13" rx="35.35" ry="35.35"></ellipse>
<text text-anchor="middle" x="765.49" y="-346.93" font-family="Times,serif" font-size="14.00">HIND</text>
</g>
<!-- FIND&#45;&#45;HIND -->
<g id="edge30" class="edge">
<title>FIND--HIND</title>
<path fill="none" stroke="black" d="M721.36,-404.68C728.31,-396.24 736.04,-386.87 743.06,-378.35"></path>
</g>
<!-- FEND&#45;&#45;FIND -->
<g id="edge26" class="edge">
<title>FEND--FIND</title>
<path fill="none" stroke="black" d="M590.91,-449.82C614.02,-445.78 643.87,-440.55 666.49,-436.59"></path>
</g>
<!-- BIND&#45;&#45;KIND -->
<g id="edge31" class="edge">
<title>BIND--KIND</title>
<path fill="none" stroke="black" d="M847.3,-408.51C845.48,-425.46 843.31,-445.85 841.48,-462.9"></path>
</g>
<!-- BIND&#45;&#45;HIND -->
<g id="edge32" class="edge">
<title>BIND--HIND</title>
<path fill="none" stroke="black" d="M817.2,-364.88C811.42,-363.34 805.4,-361.74 799.6,-360.2"></path>
</g>
<!-- KIND&#45;&#45;HIND -->
<g id="edge33" class="edge">
<title>KIND--HIND</title>
<path fill="none" stroke="black" d="M822.04,-466.3C809.89,-441.54 793.12,-407.4 781.01,-382.73"></path>
</g>
<!-- KINE -->
<g id="node20" class="node">
<title>KINE</title>
<ellipse fill="lightblue" stroke="black" cx="853.73" cy="-645.84" rx="34.2" ry="34.2"></ellipse>
<text text-anchor="middle" x="853.73" y="-641.64" font-family="Times,serif" font-size="14.00">KINE</text>
</g>
<!-- KIND&#45;&#45;KINE -->
<g id="edge34" class="edge">
<title>KIND--KINE</title>
<path fill="none" stroke="black" d="M841.51,-533.2C844.09,-556.99 847.48,-588.3 850.04,-611.87"></path>
</g>
<!-- KINA -->
<g id="node21" class="node">
<title>KINA</title>
<ellipse fill="lightblue" stroke="black" cx="966.86" cy="-574.1" rx="35.35" ry="35.35"></ellipse>
<text text-anchor="middle" x="966.86" y="-569.9" font-family="Times,serif" font-size="14.00">KINA</text>
</g>
<!-- KIND&#45;&#45;KINA -->
<g id="edge35" class="edge">
<title>KIND--KINA</title>
<path fill="none" stroke="black" d="M868.32,-516.2C888.9,-528.29 915.93,-544.17 936.47,-556.24"></path>
</g>
<!-- FINE&#45;&#45;KINE -->
<g id="edge36" class="edge">
<title>FINE--KINE</title>
<path fill="none" stroke="black" d="M760.87,-597.04C779.7,-606.94 804.26,-619.84 823.39,-629.9"></path>
</g>
<!-- KINE&#45;&#45;KINA -->
<g id="edge37" class="edge">
<title>KINE--KINA</title>
<path fill="none" stroke="black" d="M882.57,-627.55C899.19,-617.01 920.07,-603.77 936.88,-593.1"></path>
</g>
</g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>Solving a word ladder would be the equivalent of finding the shortest path between two nodes in a graph.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 1135.00 728.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 724)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-724 1131,-724 1131,4 -4,4"></polygon>
<!-- PORT -->
<g id="node1" class="node">
<title>PORT</title>
<ellipse fill="lightblue" stroke="black" cx="188.34" cy="-410.48" rx="35.94" ry="35.94"></ellipse>
<text text-anchor="middle" x="188.34" y="-406.28" font-family="Times,serif" font-size="14.00">PORT</text>
</g>
<!-- SORT -->
<g id="node2" class="node">
<title>SORT</title>
<ellipse fill="lightgreen" stroke="black" stroke-width="5" cx="171.85" cy="-242.17" rx="35.94" ry="35.94"></ellipse>
<text text-anchor="middle" x="171.85" y="-237.97" font-family="Times,serif" font-size="14.00">SORT</text>
</g>
<!-- PORT&#45;&#45;SORT -->
<g id="edge1" class="edge">
<title>PORT--SORT</title>
<path fill="none" stroke="black" d="M184.84,-374.79C182.04,-346.22 178.14,-306.36 175.34,-277.81"></path>
</g>
<!-- MORT -->
<g id="node3" class="node">
<title>MORT</title>
<ellipse fill="lightblue" stroke="black" cx="39.15" cy="-346.31" rx="38.87" ry="38.87"></ellipse>
<text text-anchor="middle" x="39.15" y="-342.11" font-family="Times,serif" font-size="14.00">MORT</text>
</g>
<!-- PORT&#45;&#45;MORT -->
<g id="edge2" class="edge">
<title>PORT--MORT</title>
<path fill="none" stroke="black" d="M155.23,-396.24C131.45,-386.01 99.42,-372.24 75.03,-361.74"></path>
</g>
<!-- BORT -->
<g id="node4" class="node">
<title>BORT</title>
<ellipse fill="lightblue" stroke="black" cx="123.43" cy="-325.45" rx="36.58" ry="36.58"></ellipse>
<text text-anchor="middle" x="123.43" y="-321.25" font-family="Times,serif" font-size="14.00">BORT</text>
</g>
<!-- PORT&#45;&#45;BORT -->
<g id="edge3" class="edge">
<title>PORT--BORT</title>
<path fill="none" stroke="black" d="M166.37,-381.69C159.75,-373.02 152.47,-363.49 145.83,-354.79"></path>
</g>
<!-- FORT -->
<g id="node5" class="node">
<title>FORT</title>
<ellipse fill="lightblue" stroke="black" cx="303.2" cy="-285.27" rx="35.94" ry="35.94"></ellipse>
<text text-anchor="middle" x="303.2" y="-281.07" font-family="Times,serif" font-size="14.00">FORT</text>
</g>
<!-- PORT&#45;&#45;FORT -->
<g id="edge4" class="edge">
<title>PORT--FORT</title>
<path fill="none" stroke="black" d="M212.7,-383.93C232.19,-362.68 259.39,-333.03 278.87,-311.79"></path>
</g>
<!-- SORT&#45;&#45;MORT -->
<g id="edge5" class="edge">
<title>SORT--MORT</title>
<path fill="none" stroke="black" d="M143.71,-264.26C122.1,-281.21 92.29,-304.6 70.03,-322.07"></path>
</g>
<!-- SORT&#45;&#45;BORT -->
<g id="edge6" class="edge">
<title>SORT--BORT</title>
<path fill="none" stroke="black" d="M153.82,-273.18C149.95,-279.84 145.85,-286.89 141.96,-293.58"></path>
</g>
<!-- SORT&#45;&#45;FORT -->
<g id="edge7" class="edge">
<title>SORT--FORT</title>
<path fill="none" stroke="black" d="M206.02,-253.38C225.48,-259.77 249.77,-267.74 269.2,-274.12"></path>
</g>
<!-- SORD -->
<g id="node6" class="node">
<title>SORD</title>
<ellipse fill="lightgreen" stroke="black" cx="313.23" cy="-152.6" rx="36.59" ry="36.59"></ellipse>
<text text-anchor="middle" x="313.23" y="-148.4" font-family="Times,serif" font-size="14.00">SORD</text>
</g>
<!-- SORT&#45;&#45;SORD -->
<g id="edge8" class="edge">
<title>SORT--SORD</title>
<path fill="none" stroke="black" stroke-width="5" d="M202.18,-222.95C225.71,-208.05 258.21,-187.45 281.97,-172.4"></path>
</g>
<!-- MORT&#45;&#45;BORT -->
<g id="edge9" class="edge">
<title>MORT--BORT</title>
<path fill="none" stroke="black" d="M77.34,-336.85C80.74,-336.01 84.17,-335.16 87.55,-334.33"></path>
</g>
<!-- BORT&#45;&#45;FORT -->
<g id="edge10" class="edge">
<title>BORT--FORT</title>
<path fill="none" stroke="black" d="M159.38,-317.41C191.04,-310.34 236.87,-300.1 268.23,-293.09"></path>
</g>
<!-- CORD -->
<g id="node7" class="node">
<title>CORD</title>
<ellipse fill="lightblue" stroke="black" cx="438.1" cy="-39.66" rx="37.73" ry="37.73"></ellipse>
<text text-anchor="middle" x="438.1" y="-35.46" font-family="Times,serif" font-size="14.00">CORD</text>
</g>
<!-- SORD&#45;&#45;CORD -->
<g id="edge11" class="edge">
<title>SORD--CORD</title>
<path fill="none" stroke="black" d="M340.63,-127.81C361.17,-109.24 389.17,-83.91 409.89,-65.17"></path>
</g>
<!-- FORD -->
<g id="node8" class="node">
<title>FORD</title>
<ellipse fill="lightgreen" stroke="black" cx="470.96" cy="-194.92" rx="36.59" ry="36.59"></ellipse>
<text text-anchor="middle" x="470.96" y="-190.72" font-family="Times,serif" font-size="14.00">FORD</text>
</g>
<!-- SORD&#45;&#45;FORD -->
<g id="edge12" class="edge">
<title>SORD--FORD</title>
<path fill="none" stroke="black" stroke-width="5" d="M349.02,-162.2C374.84,-169.13 409.53,-178.43 435.31,-185.35"></path>
</g>
<!-- LORD -->
<g id="node9" class="node">
<title>LORD</title>
<ellipse fill="lightblue" stroke="black" cx="351.75" cy="-66.65" rx="37.15" ry="37.15"></ellipse>
<text text-anchor="middle" x="351.75" y="-62.45" font-family="Times,serif" font-size="14.00">LORD</text>
</g>
<!-- SORD&#45;&#45;LORD -->
<g id="edge13" class="edge">
<title>SORD--LORD</title>
<path fill="none" stroke="black" d="M328.45,-118.63C331.06,-112.81 333.77,-106.76 336.38,-100.94"></path>
</g>
<!-- CORD&#45;&#45;FORD -->
<g id="edge15" class="edge">
<title>CORD--FORD</title>
<path fill="none" stroke="black" d="M445.97,-76.85C451.23,-101.7 458.11,-134.22 463.32,-158.83"></path>
</g>
<!-- CORD&#45;&#45;LORD -->
<g id="edge14" class="edge">
<title>CORD--LORD</title>
<path fill="none" stroke="black" d="M401.73,-51.03C397.03,-52.5 392.21,-54 387.52,-55.47"></path>
</g>
<!-- FORD&#45;&#45;FORT -->
<g id="edge17" class="edge">
<title>FORD--FORT</title>
<path fill="none" stroke="black" d="M438.22,-212.55C408.27,-228.68 364.27,-252.38 334.72,-268.29"></path>
</g>
<!-- FORD&#45;&#45;LORD -->
<g id="edge16" class="edge">
<title>FORD--LORD</title>
<path fill="none" stroke="black" d="M445.68,-167.72C425.58,-146.1 397.59,-115.98 377.4,-94.26"></path>
</g>
<!-- FOLD -->
<g id="node10" class="node">
<title>FOLD</title>
<ellipse fill="lightblue" stroke="black" cx="623.87" cy="-158.94" rx="36.01" ry="36.01"></ellipse>
<text text-anchor="middle" x="623.87" y="-154.74" font-family="Times,serif" font-size="14.00">FOLD</text>
</g>
<!-- FORD&#45;&#45;FOLD -->
<g id="edge18" class="edge">
<title>FORD--FOLD</title>
<path fill="none" stroke="black" d="M506.81,-186.48C531.44,-180.69 563.99,-173.03 588.51,-167.26"></path>
</g>
<!-- FARD -->
<g id="node11" class="node">
<title>FARD</title>
<ellipse fill="lightblue" stroke="black" cx="537.65" cy="-36.7" rx="36.59" ry="36.59"></ellipse>
<text text-anchor="middle" x="537.65" y="-32.5" font-family="Times,serif" font-size="14.00">FARD</text>
</g>
<!-- FORD&#45;&#45;FARD -->
<g id="edge19" class="edge">
<title>FORD--FARD</title>
<path fill="none" stroke="black" d="M485.27,-160.98C496.48,-134.37 512.02,-97.52 523.25,-70.86"></path>
</g>
<!-- FOND -->
<g id="node12" class="node">
<title>FOND</title>
<ellipse fill="lightgreen" stroke="black" cx="662.77" cy="-305.93" rx="37.16" ry="37.16"></ellipse>
<text text-anchor="middle" x="662.77" y="-301.73" font-family="Times,serif" font-size="14.00">FOND</text>
</g>
<!-- FORD&#45;&#45;FOND -->
<g id="edge20" class="edge">
<title>FORD--FOND</title>
<path fill="none" stroke="black" stroke-width="5" d="M503.07,-213.5C538.37,-233.93 594.77,-266.57 630.24,-287.1"></path>
</g>
<!-- FOLD&#45;&#45;FOND -->
<g id="edge21" class="edge">
<title>FOLD--FOND</title>
<path fill="none" stroke="black" d="M633.19,-194.15C639.23,-216.99 647.09,-246.69 653.19,-269.73"></path>
</g>
<!-- BOND -->
<g id="node13" class="node">
<title>BOND</title>
<ellipse fill="lightblue" stroke="black" cx="828.53" cy="-273.28" rx="38.3" ry="38.3"></ellipse>
<text text-anchor="middle" x="828.53" y="-269.08" font-family="Times,serif" font-size="14.00">BOND</text>
</g>
<!-- FOND&#45;&#45;BOND -->
<g id="edge22" class="edge">
<title>FOND--BOND</title>
<path fill="none" stroke="black" d="M699.56,-298.68C726.64,-293.35 763.36,-286.12 790.69,-280.73"></path>
</g>
<!-- FIND -->
<g id="node14" class="node">
<title>FIND</title>
<ellipse fill="lightgreen" stroke="black" cx="816.44" cy="-435.14" rx="33.64" ry="33.64"></ellipse>
<text text-anchor="middle" x="816.44" y="-430.94" font-family="Times,serif" font-size="14.00">FIND</text>
</g>
<!-- FOND&#45;&#45;FIND -->
<g id="edge23" class="edge">
<title>FOND--FIND</title>
<path fill="none" stroke="black" stroke-width="5" d="M691.67,-330.23C720.19,-354.21 763.37,-390.52 790.73,-413.52"></path>
</g>
<!-- FEND -->
<g id="node15" class="node">
<title>FEND</title>
<ellipse fill="lightblue" stroke="black" cx="680.12" cy="-455.91" rx="36.01" ry="36.01"></ellipse>
<text text-anchor="middle" x="680.12" y="-451.71" font-family="Times,serif" font-size="14.00">FEND</text>
</g>
<!-- FOND&#45;&#45;FEND -->
<g id="edge24" class="edge">
<title>FOND--FEND</title>
<path fill="none" stroke="black" d="M667.1,-343.39C669.8,-366.73 673.26,-396.6 675.93,-419.7"></path>
</g>
<!-- BIND -->
<g id="node16" class="node">
<title>BIND</title>
<ellipse fill="lightblue" stroke="black" cx="939.59" cy="-378.53" rx="34.78" ry="34.78"></ellipse>
<text text-anchor="middle" x="939.59" y="-374.33" font-family="Times,serif" font-size="14.00">BIND</text>
</g>
<!-- BOND&#45;&#45;BIND -->
<g id="edge25" class="edge">
<title>BOND--BIND</title>
<path fill="none" stroke="black" d="M856.55,-299.84C874.29,-316.65 897.03,-338.2 914.23,-354.5"></path>
</g>
<!-- FIND&#45;&#45;BIND -->
<g id="edge27" class="edge">
<title>FIND--BIND</title>
<path fill="none" stroke="black" d="M847.2,-421C865.72,-412.49 889.26,-401.67 907.94,-393.08"></path>
</g>
<!-- KIND -->
<g id="node17" class="node">
<title>KIND</title>
<ellipse fill="lightgreen" stroke="black" stroke-width="5" cx="961.42" cy="-541.2" rx="35.35" ry="35.35"></ellipse>
<text text-anchor="middle" x="961.42" y="-537" font-family="Times,serif" font-size="14.00">KIND</text>
</g>
<!-- FIND&#45;&#45;KIND -->
<g id="edge28" class="edge">
<title>FIND--KIND</title>
<path fill="none" stroke="black" stroke-width="5" d="M843.71,-455.09C869.14,-473.69 906.92,-501.33 932.78,-520.25"></path>
</g>
<!-- FINE -->
<g id="node18" class="node">
<title>FINE</title>
<ellipse fill="lightblue" stroke="black" cx="866.32" cy="-598.01" rx="32.49" ry="32.49"></ellipse>
<text text-anchor="middle" x="866.32" y="-593.81" font-family="Times,serif" font-size="14.00">FINE</text>
</g>
<!-- FIND&#45;&#45;FINE -->
<g id="edge29" class="edge">
<title>FIND--FINE</title>
<path fill="none" stroke="black" d="M826.3,-467.32C835.13,-496.15 848,-538.17 856.74,-566.73"></path>
</g>
<!-- HIND -->
<g id="node19" class="node">
<title>HIND</title>
<ellipse fill="lightblue" stroke="black" cx="990.9" cy="-461.27" rx="35.35" ry="35.35"></ellipse>
<text text-anchor="middle" x="990.9" y="-457.07" font-family="Times,serif" font-size="14.00">HIND</text>
</g>
<!-- FIND&#45;&#45;HIND -->
<g id="edge30" class="edge">
<title>FIND--HIND</title>
<path fill="none" stroke="black" d="M849.67,-440.11C880.12,-444.68 925.04,-451.41 956.01,-456.04"></path>
</g>
<!-- FEND&#45;&#45;FIND -->
<g id="edge26" class="edge">
<title>FEND--FIND</title>
<path fill="none" stroke="black" d="M716.29,-450.4C736.96,-447.25 762.7,-443.33 782.91,-440.25"></path>
</g>
<!-- BIND&#45;&#45;KIND -->
<g id="edge31" class="edge">
<title>BIND--KIND</title>
<path fill="none" stroke="black" d="M944.22,-413.03C947.9,-440.45 953.02,-478.64 956.72,-506.19"></path>
</g>
<!-- BIND&#45;&#45;HIND -->
<g id="edge32" class="edge">
<title>BIND--HIND</title>
<path fill="none" stroke="black" d="M958.11,-408.4C962.7,-415.81 967.63,-423.75 972.23,-431.17"></path>
</g>
<!-- KIND&#45;&#45;HIND -->
<g id="edge33" class="edge">
<title>KIND--HIND</title>
<path fill="none" stroke="black" d="M973.75,-507.77C975.39,-503.32 977.07,-498.76 978.71,-494.32"></path>
</g>
<!-- KINE -->
<g id="node20" class="node">
<title>KINE</title>
<ellipse fill="lightblue" stroke="black" cx="973.55" cy="-685.94" rx="34.2" ry="34.2"></ellipse>
<text text-anchor="middle" x="973.55" y="-681.74" font-family="Times,serif" font-size="14.00">KINE</text>
</g>
<!-- KIND&#45;&#45;KINE -->
<g id="edge34" class="edge">
<title>KIND--KINE</title>
<path fill="none" stroke="black" d="M964.38,-576.61C966.31,-599.54 968.8,-629.24 970.69,-651.9"></path>
</g>
<!-- KINA -->
<g id="node21" class="node">
<title>KINA</title>
<ellipse fill="lightblue" stroke="black" cx="1091.43" cy="-633.28" rx="35.35" ry="35.35"></ellipse>
<text text-anchor="middle" x="1091.43" y="-629.08" font-family="Times,serif" font-size="14.00">KINA</text>
</g>
<!-- KIND&#45;&#45;KINA -->
<g id="edge35" class="edge">
<title>KIND--KINA</title>
<path fill="none" stroke="black" d="M990.27,-561.64C1011.82,-576.9 1041.13,-597.66 1062.66,-612.9"></path>
</g>
<!-- FINE&#45;&#45;KINE -->
<g id="edge36" class="edge">
<title>FINE--KINE</title>
<path fill="none" stroke="black" d="M891.46,-618.62C908.17,-632.33 930.09,-650.3 947.07,-664.23"></path>
</g>
<!-- KINE&#45;&#45;KINA -->
<g id="edge37" class="edge">
<title>KINE--KINA</title>
<path fill="none" stroke="black" d="M1004.83,-671.97C1021.61,-664.47 1042.25,-655.25 1059.18,-647.69"></path>
</g>
</g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>Here we marked the shortest path between the words <em>sort</em> and <em>kind</em>, which is the answer to the puzzle we saw <a href="#so-what-is-weaver">above</a>.</p>
<p>I defined the following predicates that specify the connectivity of the graph.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Helper predicates</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>count_different_elements([]<span class="kw">,</span> []<span class="kw">,</span> <span class="dv">0</span>)<span class="kw">.</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>count_different_elements([<span class="dt">X</span><span class="fu">|</span><span class="dt">Xs</span>]<span class="kw">,</span> [<span class="dt">Y</span><span class="fu">|</span><span class="dt">Ys</span>]<span class="kw">,</span> <span class="dt">N</span>) <span class="kw">:-</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">X</span> <span class="kw">\=</span> <span class="dt">Y</span><span class="kw">,</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    count_different_elements(<span class="dt">Xs</span><span class="kw">,</span> <span class="dt">Ys</span><span class="kw">,</span> <span class="dt">M</span>)<span class="kw">,</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">N</span> <span class="dt">is</span> <span class="dt">M</span> <span class="dt">+</span> <span class="dv">1</span><span class="kw">.</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>count_different_elements([<span class="dt">X</span><span class="fu">|</span><span class="dt">Xs</span>]<span class="kw">,</span> [<span class="dt">X</span><span class="fu">|</span><span class="dt">Ys</span>]<span class="kw">,</span> <span class="dt">N</span>) <span class="kw">:-</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    count_different_elements(<span class="dt">Xs</span><span class="kw">,</span> <span class="dt">Ys</span><span class="kw">,</span> <span class="dt">N</span>)<span class="kw">.</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>count_different_characters(<span class="dt">A</span><span class="kw">,</span> <span class="dt">B</span><span class="kw">,</span> <span class="dt">N</span>) <span class="kw">:-</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">atom_chars</span>(<span class="dt">A</span><span class="kw">,</span> <span class="dt">L1</span>)<span class="kw">,</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">atom_chars</span>(<span class="dt">B</span><span class="kw">,</span> <span class="dt">L2</span>)<span class="kw">,</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    count_different_elements(<span class="dt">L1</span><span class="kw">,</span> <span class="dt">L2</span><span class="kw">,</span> <span class="dt">N</span>)<span class="kw">.</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co">% The successor predicate</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>s(<span class="dt">N</span><span class="kw">,</span> <span class="dt">M</span><span class="kw">,</span> <span class="dv">1</span>) <span class="kw">:-</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    words(<span class="dt">Words</span>)<span class="kw">,</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    member(<span class="dt">M</span><span class="kw">,</span><span class="dt">Words</span>)<span class="kw">,</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    count_different_characters(<span class="dt">N</span><span class="kw">,</span> <span class="dt">M</span><span class="kw">,</span> <span class="dv">1</span>)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The predicates <code>count_different_elements/3</code> and <code>count_different_characters/3</code> are helper predicates that handle the counting of different characters between two words. They are used to determine the cost or distance between two words in terms of the number of character differences.</p>
<p>The <code>s/3</code> predicate defines a <em>successor</em> relation between words. It establishes that a successor word M is connected to an initial word N if they have exactly one different character. We assume all transitions have a cost of 1.</p>
<p>One question that might arise is whether the full graph that contains all words is a connected graph. In other words, if there is always a path between two arbitrary nodes.</p>
<p>Let’s find out how many (if any) words are not connected to any other word by entering the following query:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>words(<span class="dt">W</span>)<span class="kw">,</span> bagof(<span class="dt">M</span><span class="kw">,</span>(member(<span class="dt">M</span><span class="kw">,</span><span class="dt">W</span>)<span class="kw">,</span> not(s(<span class="dt">M</span><span class="kw">,</span><span class="dt">_</span><span class="kw">,</span><span class="dt">_</span>)))<span class="kw">,</span><span class="dt">Bag</span>)<span class="kw">,</span> length(<span class="dt">Bag</span><span class="kw">,</span><span class="dt">L</span>)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>W = [aahs, aals, abas, abba, abbe, abed, abet, able, ably|...],
Bag = [abri, adze, ahoy, amok, ankh, aqua, arak, asci, auld|...],
L = 62.</code></pre>
<p>We find that for 62 words there was no <em>successor</em> found. This alone tells us that the graph is disconnected which means that for some pairs of words you can’t make a word ladder. There are also smaller groups of word clusters that form their own little subgraph. For instance the words <em>ordo</em>, <em>orzo</em>, and <em>ouzo</em> form their own little graph disconnected from any other words.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 174.00 212.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 208)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-208 170,-208 170,4 -4,4"></polygon>
<!-- ORDO -->
<g id="node1" class="node">
<title>ORDO</title>
<ellipse fill="lightblue" stroke="black" cx="38.17" cy="-165.89" rx="38.3" ry="38.3"></ellipse>
<text text-anchor="middle" x="38.17" y="-161.69" font-family="Times,serif" font-size="14.00">ORDO</text>
</g>
<!-- ORZO -->
<g id="node2" class="node">
<title>ORZO</title>
<ellipse fill="lightblue" stroke="black" cx="128.2" cy="-127.8" rx="37.15" ry="37.15"></ellipse>
<text text-anchor="middle" x="128.2" y="-123.6" font-family="Times,serif" font-size="14.00">ORZO</text>
</g>
<!-- ORDO&#45;&#45;ORZO -->
<g id="edge1" class="edge">
<title>ORDO--ORZO</title>
<path fill="none" stroke="black" d="M73.75,-150.84C80.34,-148.05 87.2,-145.14 93.76,-142.37"></path>
</g>
<!-- OUZO -->
<g id="node3" class="node">
<title>OUZO</title>
<ellipse fill="lightblue" stroke="black" cx="114.72" cy="-38.24" rx="37.71" ry="37.71"></ellipse>
<text text-anchor="middle" x="114.72" y="-34.04" font-family="Times,serif" font-size="14.00">OUZO</text>
</g>
<!-- ORZO&#45;&#45;OUZO -->
<g id="edge2" class="edge">
<title>ORZO--OUZO</title>
<path fill="none" stroke="black" d="M122.64,-90.86C121.88,-85.85 121.11,-80.7 120.35,-75.68"></path>
</g>
</g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>Such a cute little graph. Imagine the psychological torment you’d cause by asking the biggest Weaver afficionado to create a word ladder going from <em>beer</em> to <em>ouzo</em>. Just kidding, don’t be evil.</p>
</section>
<section id="the-a-search-algorithm" class="level2">
<h2 class="anchored" data-anchor-id="the-a-search-algorithm">The A* search algorithm</h2>
<p>The <a href="https://en.wikipedia.org/wiki/A*_search_algorithm">A* algorithm</a> is a popular pathfinding algorithm used for finding the shortest path between a start node and a goal node in a weighted graph. It uses a combination of the actual cost (path cost from the start node) and the heuristic cost (estimated cost from the current node to the goal) to guide the search towards the goal while exploring the graph efficiently.</p>
<p>Because this algorithm works on weighted graphs only, we set the weight of all edges equal to 1. You can find many implementations of A* for a variety of programming languages online. I adapted one <a href="https://www.cs.toronto.edu/~sheila/384/w14/Assignments/A1/astarCC.pl">from here</a> for use in the solver.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">% A* with cycle checking</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>a_star(<span class="dt">Start</span><span class="kw">,</span> <span class="dt">Answer</span>) <span class="kw">:-</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    h(<span class="dt">Start</span><span class="kw">,</span> <span class="dt">H</span>)<span class="kw">,</span> <span class="kw">!,</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    a_star([[(<span class="dv">0</span><span class="kw">,</span> <span class="dt">H</span>), <span class="dt">Start</span>]]<span class="kw">,</span> []<span class="kw">,</span> <span class="dt">Answer</span><span class="kw">,</span> <span class="dv">0</span>)<span class="kw">.</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>a_star([ [<span class="dt">_</span>, <span class="dt">FinalState</span> <span class="fu">|</span> <span class="dt">Path</span> ] <span class="fu">|</span> <span class="dt">_</span>]<span class="kw">,</span> <span class="dt">_</span><span class="kw">,</span> <span class="dt">Answer</span><span class="kw">,</span> <span class="dt">_</span>) <span class="kw">:-</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    goal(<span class="dt">FinalState</span>)<span class="kw">,</span> <span class="kw">!,</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    reverse([<span class="dt">FinalState</span> <span class="fu">|</span> <span class="dt">Path</span>]<span class="kw">,</span> <span class="dt">Answer</span>)<span class="kw">.</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>a_star([ [(<span class="dt">Gval</span><span class="kw">,</span><span class="dt">_</span>),  <span class="dt">FinalState</span> <span class="fu">|</span> <span class="dt">Path</span> ]<span class="fu">|</span> <span class="dt">OtherPaths</span>]<span class="kw">,</span> <span class="dt">OldStates</span><span class="kw">,</span> <span class="dt">Answer</span><span class="kw">,</span> <span class="dt">NumExpanded</span>) <span class="kw">:-</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    cycle_check(<span class="dt">FinalState</span><span class="kw">,</span> <span class="dt">Gval</span><span class="kw">,</span> <span class="dt">OldStates</span>)<span class="kw">,</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    bagof((<span class="dt">C</span><span class="kw">,</span> <span class="dt">N</span>)<span class="kw">,</span> s(<span class="dt">FinalState</span><span class="kw">,</span> <span class="dt">N</span><span class="kw">,</span> <span class="dt">C</span>)<span class="kw">,</span> <span class="dt">Neighbours</span>)<span class="kw">,</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    expand(<span class="dt">Gval</span><span class="kw">,</span> <span class="dt">FinalState</span> <span class="kw">,</span> <span class="dt">Path</span><span class="kw">,</span> <span class="dt">Neighbours</span><span class="kw">,</span>  <span class="dt">NewPaths</span>)<span class="kw">,</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    prune(<span class="dt">NewPaths</span><span class="kw">,</span><span class="dt">PrunedPaths</span><span class="kw">,</span> <span class="dt">OldStates</span>)<span class="kw">,</span> </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    combine(<span class="dt">PrunedPaths</span><span class="kw">,</span> <span class="dt">OtherPaths</span><span class="kw">,</span> <span class="dt">NewFrontier</span>)<span class="kw">,</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">N</span> <span class="dt">is</span> <span class="dt">NumExpanded</span> <span class="dt">+</span> <span class="dv">1</span><span class="kw">,</span> <span class="kw">!,</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    (<span class="dt">N</span> <span class="dt">=&lt;</span> <span class="dv">9999</span> <span class="kw">-&gt;</span> a_star(<span class="dt">NewFrontier</span><span class="kw">,</span> [(<span class="dt">FinalState</span><span class="kw">,</span> <span class="dt">Gval</span>)<span class="fu">|</span><span class="dt">OldStates</span>]<span class="kw">,</span> <span class="dt">Answer</span><span class="kw">,</span><span class="dt">N</span>) <span class="kw">;</span> <span class="kw">!,</span> <span class="kw">fail</span>)<span class="kw">.</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>a_star([ <span class="dt">_</span> <span class="fu">|</span> <span class="dt">OtherPaths</span>]<span class="kw">,</span> <span class="dt">OldStates</span><span class="kw">,</span> <span class="dt">Answer</span><span class="kw">,</span><span class="dt">NumExpanded</span>) <span class="kw">:-</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">!,</span> a_star(<span class="dt">OtherPaths</span><span class="kw">,</span> <span class="dt">OldStates</span><span class="kw">,</span> <span class="dt">Answer</span><span class="kw">,</span><span class="dt">NumExpanded</span>)<span class="kw">.</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>expand(<span class="dt">_</span><span class="kw">,</span> <span class="dt">_</span><span class="kw">,</span> <span class="dt">_</span><span class="kw">,</span> []<span class="kw">,</span> [])<span class="kw">.</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>expand(<span class="dt">Gval</span><span class="kw">,</span> <span class="dt">State</span><span class="kw">,</span> <span class="dt">Path</span><span class="kw">,</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    [(<span class="dt">Cost</span><span class="kw">,</span><span class="dt">NewState</span>) <span class="fu">|</span> <span class="dt">RestNeigh</span>]<span class="kw">,</span> [[(<span class="dt">NGval</span><span class="kw">,</span> <span class="dt">NHval</span>), <span class="dt">NewState</span>, <span class="dt">State</span> <span class="fu">|</span> <span class="dt">Path</span>] <span class="fu">|</span> <span class="dt">RestNewPaths</span>]) <span class="kw">:-</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">NGval</span> <span class="dt">is</span> <span class="dt">Gval</span> <span class="dt">+</span> <span class="dt">Cost</span><span class="kw">,</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    h(<span class="dt">NewState</span><span class="kw">,</span> <span class="dt">NHval</span>)<span class="kw">,</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    expand(<span class="dt">Gval</span><span class="kw">,</span> <span class="dt">State</span><span class="kw">,</span> <span class="dt">Path</span><span class="kw">,</span> <span class="dt">RestNeigh</span><span class="kw">,</span> <span class="dt">RestNewPaths</span>)<span class="kw">.</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>cycle_check(<span class="dt">_</span><span class="kw">,</span> <span class="dt">_</span><span class="kw">,</span> [])<span class="kw">.</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>cycle_check(<span class="dt">State</span><span class="kw">,</span> <span class="dt">Gval</span><span class="kw">,</span> [(<span class="dt">State</span><span class="kw">,</span> <span class="dt">OldGval</span>) <span class="fu">|</span> <span class="dt">Rest</span>]) <span class="kw">:-</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Gval</span> <span class="dt">&lt;</span> <span class="dt">OldGval</span><span class="kw">,</span> <span class="kw">!,</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    cycle_check(<span class="dt">State</span><span class="kw">,</span> <span class="dt">Gval</span><span class="kw">,</span> <span class="dt">Rest</span>)<span class="kw">.</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>cycle_check(<span class="dt">State</span><span class="kw">,</span> <span class="dt">Gval</span><span class="kw">,</span> [(<span class="dt">OldState</span><span class="kw">,</span> <span class="dt">_</span>) <span class="fu">|</span> <span class="dt">Rest</span>]) <span class="kw">:-</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    <span class="dt">State</span> <span class="fu">\==</span> <span class="dt">OldState</span><span class="kw">,</span> <span class="kw">!,</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    cycle_check(<span class="dt">State</span><span class="kw">,</span> <span class="dt">Gval</span><span class="kw">,</span> <span class="dt">Rest</span>)<span class="kw">.</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>prune([ <span class="dt">NewPath</span> <span class="fu">|</span> <span class="dt">RestNPaths</span>]<span class="kw">,</span> <span class="dt">PrunedPaths</span><span class="kw">,</span> <span class="dt">OldStates</span>) <span class="kw">:-</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">NewPath</span> <span class="kw">=</span> [(<span class="dt">Gval</span><span class="kw">,</span> <span class="dt">_</span>), <span class="dt">FinalState</span> <span class="fu">|</span> <span class="dt">_</span>]<span class="kw">,</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    cycle_check(<span class="dt">FinalState</span><span class="kw">,</span> <span class="dt">Gval</span><span class="kw">,</span> <span class="dt">OldStates</span>)<span class="kw">,</span> <span class="kw">!,</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    prune(<span class="dt">RestNPaths</span><span class="kw">,</span> <span class="dt">RestPruned</span><span class="kw">,</span> <span class="dt">OldStates</span>)<span class="kw">,</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">PrunedPaths</span> <span class="kw">=</span> [<span class="dt">NewPath</span> <span class="fu">|</span> <span class="dt">RestPruned</span>]<span class="kw">.</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>prune([ <span class="dt">_</span> <span class="fu">|</span> <span class="dt">RestNPaths</span>]<span class="kw">,</span> <span class="dt">PrunedPaths</span><span class="kw">,</span> <span class="dt">OldStates</span>) <span class="kw">:-</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    prune(<span class="dt">RestNPaths</span><span class="kw">,</span> <span class="dt">PrunedPaths</span><span class="kw">,</span> <span class="dt">OldStates</span>)<span class="kw">.</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>prune([]<span class="kw">,</span> []<span class="kw">,</span> <span class="dt">_</span>)<span class="kw">.</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>combine([<span class="dt">NewState</span><span class="fu">|</span><span class="dt">RestNewStates</span>]<span class="kw">,</span> <span class="dt">OldStates</span><span class="kw">,</span> <span class="dt">NewFrontier</span>) <span class="kw">:-</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    insert(<span class="dt">NewState</span><span class="kw">,</span> <span class="dt">OldStates</span><span class="kw">,</span> <span class="dt">New</span>)<span class="kw">,</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>    combine(<span class="dt">RestNewStates</span><span class="kw">,</span> <span class="dt">New</span><span class="kw">,</span> <span class="dt">NewFrontier</span>)<span class="kw">.</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>combine([]<span class="kw">,</span> <span class="dt">AllAdded</span><span class="kw">,</span> <span class="dt">AllAdded</span>) <span class="kw">:-</span> <span class="kw">!.</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>insert_list([<span class="dt">NewState</span><span class="fu">|</span><span class="dt">RestNewStates</span>]<span class="kw">,</span> <span class="dt">OldStates</span><span class="kw">,</span> <span class="dt">NewFrontier</span>) <span class="kw">:-</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>    insert(<span class="dt">NewState</span><span class="kw">,</span> <span class="dt">OldStates</span><span class="kw">,</span> <span class="dt">New</span>)<span class="kw">,</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>    insert_list(<span class="dt">RestNewStates</span><span class="kw">,</span> <span class="dt">New</span><span class="kw">,</span> <span class="dt">NewFrontier</span>)<span class="kw">.</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>insert_list([]<span class="kw">,</span> <span class="dt">AllAdded</span><span class="kw">,</span> <span class="dt">AllAdded</span>) <span class="kw">:-</span> <span class="kw">!.</span></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>insert(<span class="dt">NewState</span><span class="kw">,</span> [<span class="dt">OldState</span><span class="fu">|</span><span class="dt">RestOld</span>]<span class="kw">,</span> </span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>    [<span class="dt">NewState</span>, <span class="dt">OldState</span><span class="fu">|</span><span class="dt">RestOld</span>]) <span class="kw">:-</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>    lower_or_equal_f_value(<span class="dt">NewState</span><span class="kw">,</span> <span class="dt">OldState</span>)<span class="kw">,</span> <span class="kw">!.</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>insert(<span class="dt">NewState</span><span class="kw">,</span> [<span class="dt">OldState</span><span class="fu">|</span><span class="dt">RestOld</span>]<span class="kw">,</span> </span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>    [<span class="dt">OldState</span><span class="fu">|</span><span class="dt">InsertedIntoRest</span>]) <span class="kw">:-</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>    greater_f_value(<span class="dt">NewState</span><span class="kw">,</span> <span class="dt">OldState</span>)<span class="kw">,</span></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>    insert(<span class="dt">NewState</span><span class="kw">,</span> <span class="dt">RestOld</span><span class="kw">,</span> <span class="dt">InsertedIntoRest</span>)<span class="kw">,</span> <span class="kw">!.</span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>insert(<span class="dt">NewState</span><span class="kw">,</span> []<span class="kw">,</span> [<span class="dt">NewState</span>])<span class="kw">.</span></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>lower_or_equal_f_value([(<span class="dt">G1</span><span class="kw">,</span><span class="dt">H1</span>) <span class="fu">|</span> <span class="dt">_</span>]<span class="kw">,</span> [(<span class="dt">G2</span><span class="kw">,</span> <span class="dt">H2</span>) <span class="fu">|</span> <span class="dt">_</span>]) <span class="kw">:-</span></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>    <span class="dt">X</span> <span class="dt">is</span> <span class="dt">G1</span> <span class="dt">+</span> <span class="dt">H1</span><span class="kw">,</span> <span class="dt">Y</span> <span class="dt">is</span> <span class="dt">G2</span> <span class="dt">+</span> <span class="dt">H2</span><span class="kw">,</span> <span class="dt">X</span> <span class="dt">=&lt;</span> <span class="dt">Y</span><span class="kw">,</span> <span class="kw">!.</span></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>greater_f_value([(<span class="dt">G1</span><span class="kw">,</span><span class="dt">H1</span>) <span class="fu">|</span> <span class="dt">_</span>]<span class="kw">,</span> [(<span class="dt">G2</span><span class="kw">,</span> <span class="dt">H2</span>) <span class="fu">|</span> <span class="dt">_</span>]) <span class="kw">:-</span></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>    <span class="dt">X</span> <span class="dt">is</span> <span class="dt">G1</span> <span class="dt">+</span> <span class="dt">H1</span><span class="kw">,</span> <span class="dt">Y</span> <span class="dt">is</span> <span class="dt">G2</span> <span class="dt">+</span> <span class="dt">H2</span><span class="kw">,</span> <span class="dt">X</span> <span class="dt">&gt;</span> <span class="dt">Y</span><span class="kw">,</span> <span class="kw">!.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It assumes a successor predicate <code>s/3</code> that we’ve defined above. Furthermore, it expects a predicate <code>h/2</code> that defines a heuristic to guide the search and a <code>goal/1</code> predicate that gets satisfied once the search has reached the final node.</p>
<p>The heuristic I used is the number of letters that are different from the target word. The closer we are to the final node, the more letters are expected to be correct.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">% The heuristic</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>h(<span class="dt">N</span><span class="kw">,</span> <span class="dt">H</span>) <span class="kw">:-</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    goal(<span class="dt">M</span>)<span class="kw">,</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    count_different_characters(<span class="dt">N</span><span class="kw">,</span> <span class="dt">M</span><span class="kw">,</span> <span class="dt">H</span>)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The A* search algorithm is guarenteed to find the shortest path if the heuristic we choose is <em>admissible</em>. A heuristic is said to be <em>admissible</em> if it never overestimates the cost of reaching the goal. In our case we know it never overestimates the cost, because if <em>n</em> letters are different from the target word, we need at least <em>n</em> more steps.</p>
<p>The <code>goal/1</code> predicate is dynamically added to the Prolog database before we commence our search. The <code>weaver/3</code> predicate is the top-level predicate that you call when you want to solve a puzzle.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">:-</span> <span class="kw">dynamic</span> goal<span class="fu">/</span><span class="dv">1</span><span class="kw">.</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>weaver(<span class="dt">Start</span><span class="kw">,</span> <span class="dt">Goal</span><span class="kw">,</span> <span class="dt">Solution</span>) <span class="kw">:-</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">retractall</span>(goal(<span class="dt">_</span>))<span class="kw">,</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    assert(goal(<span class="dt">Goal</span>))<span class="kw">,</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    a_star(<span class="dt">Start</span><span class="kw">,</span> <span class="dt">Solution</span>)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can find a copy of this code as a GitHub gist <a href="https://gist.github.com/afvanwoudenberg/9bc4db382a477098574278fc06641cc4">here</a>.</p>
</section>
<section id="running-the-solver" class="level2">
<h2 class="anchored" data-anchor-id="running-the-solver">Running the solver</h2>
<p>To run the solver, you first start the Prolog interpreter (I use <a href="https://www.swi-prolog.org/">SWI-Prolog</a>) by opening up a terminal and typing:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">swipl</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will start the Prolog interpreter. You can then load the solver by typing:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>[weaver]<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This loads the <code>weaver.pl</code> file. To solve a word ladder going from <em>sort</em> to <em>kind</em>, you’d enter:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode prolog code-with-copy"><code class="sourceCode prolog"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>weaver(sort<span class="kw">,</span> kind<span class="kw">,</span> <span class="dt">Solution</span>)<span class="kw">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Solution = [sort, sord, ford, fond, find, kind].</code></pre>
<p>There you have it! No more emotional distress over not being able to solve word ladders.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.aswinvanwoudenberg\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="afvanwoudenberg/afvanwoudenberg.github.io" data-repo-id="R_kgDOIvCGfg" data-category="General" data-category-id="DIC_kwDOIvCGfs4CWx2r" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
</div> <!-- /content -->




</body></html>